<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:c="http://java.sun.com/jsp/jstl/core">

<ui:composition>
	<h:outputStylesheet library="css" name="menu.css" />
	<h:outputScript library="js" name="menu.js" />
	<div id="menu-content">
		<h:form class="search-form">
		    <p:inputText id="text" class="search-bar" onfocus="showSearchResult()" onblur="hideSearchResult()"
		    	value="#{person.searchQuery}" placeholder="Search">
		        <p:ajax event="keyup" update="affichage"
   					listener="#{person.findByName}" />
		    </p:inputText>
		    <h:dataTable id="affichage" class="menu-search" value="#{person.queryResult}" var="p">
	    		<h:column>
	    			<h:commandLink action="#{person.cv(p.id)}"
	    				value="#{p.firstname} #{p.lastname} #{p.id}"/>
			    </h:column>
		    </h:dataTable>
		</h:form>
	    <h:form class="login-form right">
		    <p:inputText placeholder="Email" value="#{user.user.login}"/>
		    <p:password placeholder="Password" value="#{user.user.password}"/>
		    <p:commandButton id="sign-up" value="Log In" action="#{user.login}"/>
	    </h:form>
    </div>
</ui:composition>

</html>