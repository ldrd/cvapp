<?xml version="1.0" encoding="UTF-8" ?>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui">

<ui:composition template="/template/mylayout.xhtml">
    <ui:define name="content">
    <ui:fragment rendered="#{!user.loggedIn}">
        <h:form class="signup-form">
        	<h1>#{messages.titleInscription}</h1>
        	<h2>#{messages.subtitleInscription}</h2>
            <div id="sign-up-grid">
	            <p:inputText id="firstname-insc" class="col1 row1" placeholder="#{messages.firstname}" requiredMessage="Value required"
	            	value="#{user.user.firstname}" required="true" validatorMessage="Value does not match a name pattern or its length is not between 2 and 50 letters.">
	            	<f:validateLength minimum="1"/>
                	<p:clientValidator event="blur"/>
	            </p:inputText>
	           <p:message for="@previous"/>
	            <p:inputText class="col2 row1" placeholder="#{messages.lastname}" requiredMessage="Value required"
	            	value="#{user.user.lastname}" required="true" validatorMessage="Value does not match a name pattern or its length is not between 2 and 50 letters.">
	            	<f:validateLength minimum="1"/>
                	<p:clientValidator event="blur"/>
	            </p:inputText>
	            <p:message for="@previous"/>
	            <p:inputText class="cols13" placeholder="Email" requiredMessage="Value required"
	            	value="#{user.user.email}" required="true" validatorMessage="This is not an email address">
	            	<f:validateRegex pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]" />
	            	<p:clientValidator event="blur"/>
	            </p:inputText>
	            <p:message for="@previous" class="cols13"/>
	            <p:password class="cols13" placeholder="#{messages.newPassword}" requiredMessage="Value required"
	            	value="#{user.user.password}" required="true" validatorMessage="Should be at least 6 characters">
	            	<f:validateLength minimum="6"/>
	            	<p:clientValidator event="blur"/>
	            </p:password>
	            <p:message for="@previous" class="cols13"/>
            </div>
             
            <p:commandButton class="sign-up" value="#{messages.signup}"
            	action="#{user.signup}"/>
        </h:form>
    </ui:fragment>
    </ui:define>
</ui:composition>
</html>