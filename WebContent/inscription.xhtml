<?xml version="1.0" encoding="UTF-8" ?>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui">

<ui:composition template="/template/mylayout.xhtml">
    <ui:define name="content">
    <ui:fragment rendered="#{!user.loggedIn}">
        <h:form class="signup-form">
        	<h1>Sign Up</h1> <!-- Inscription -->
        	<h2>It’s free and always will be.</h2> <!-- C'est gratuit (et ça le restera toujours) -->
            <div id="sign-up-grid">
	            <p:inputText id="firstname-insc" class="col1 row1" placeholder="First name" requiredMessage="Value required"
	            	value="#{user.user.firstname}" required="true" validatorMessage="Value does not match a name pattern or its length is not between 2 and 50 letters.">
	            	<f:validateLength minimum="2" maximum="50" />
	            	<f:validateRegex pattern="^[a-zA-Z]+$" />
                	<p:clientValidator event="blur"/>
	            </p:inputText>
	           <p:message for="@previous"/>
	            <p:inputText class="col2 row1" placeholder="Last name" requiredMessage="Value required"
	            	value="#{user.user.lastname}" required="true" validatorMessage="Value does not match a name pattern or its length is not between 2 and 50 letters.">
	            	<f:validateLength minimum="2" maximum="50" />
	            	<f:validateRegex pattern="^[a-zA-Z]+$" />
                	<p:clientValidator event="blur"/>
	            </p:inputText>
	            <p:message for="@previous"/>
	            <p:inputText class="cols13" placeholder="Email" requiredMessage="Value required"
	            	value="#{user.user.email}" required="true" validatorMessage="This is not an email address">
	            	<f:validateRegex pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]" />
	            	<p:clientValidator event="blur"/>
	            </p:inputText>
	            <p:message for="@previous" class="cols13"/>
	            <p:password class="cols13" placeholder="New password" requiredMessage="Value required"
	            	value="#{user.user.password}" required="true" validatorMessage="Should be at least 6 characters">
	            	<f:validateLength minimum="6"/>
	            	<p:clientValidator event="blur"/>
	            </p:password>
	            <p:message for="@previous" class="cols13"/>
            </div>
             
            <p:commandButton class="sign-up" value="Sign Up" style="margin-top=20px"
            	action="#{user.signup}"/>
        </h:form>
    </ui:fragment>
    </ui:define>
</ui:composition>
</html>